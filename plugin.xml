<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>   
	<!-- Extension-points -->
	   	
   <extension-point 
   		id="loginstatelistener" 
   		name="Login State Listener" 
   		schema="schema/loginstatelistener.exsd"
   	/>
   	
<!-- I think, these are really not necessary anymore...		
   <extension-point 
   		id="person_edit_personDataFieldEditorFactory" 
   		name="Defines a editor factory for a specific subclass of AbstractPersonDataField" 
   		schema="schema/person_edit_personDataFieldEditorFactory.exsd"
   	/>
   	
   <extension-point 
   		id="person_edit_specializedDataBlockEditor" 
   		name="Specialized PersonDataBlockEditors" 
   		schema="schema/person_edit_specializedDataBlockEditor.exsd"
   	/>
-->

   <extension-point 
	   id="configsetupvisualiser" 
	   name="ConfigSetupVisualiser extension-point" 
	   schema="schema/configsetupvisualiser.exsd"
	/>
   
	
   <extension-point 
	   id="specialisedDataBlockEditor" 
	   name="Specialised PropDataBlockEditors" 
	   schema="schema/specialisedDataBlockEditor.exsd"
	/>
	
   <extension-point 
	   id="propDataFieldEditorFactory" 
	   name="Defines a editor factory for a specific subclass of AbstractPersonDataField" 
	   schema="schema/propDataFieldEditorFactory.exsd"
	/>
	
   <extension-point 
	   id="propStructField" 
	   name="propStructField" 
	   schema="schema/propStructField.exsd"
	/>
   <extension-point id="overview" name="overview" schema="schema/overview.exsd"/>
   <extension-point id="quickSearchEntry" name="quickSearchEntry" schema="schema/quicksearchentry.exsd"/>
   <extension-point id="queryFilterComposite" name="QueryFilterComposite" schema="schema/queryFilterComposite.exsd"/>
	
	
   <!-- Extensions -->	
   
   <!-- 
        Pruduct and application.
        Main entry to the workbench and branding.
   -->
		
   <extension
         point="org.eclipse.core.runtime.applications"
         id="app"
         name="%app.name">
      <application>
         <run
            class="org.nightlabs.jfire.base.ui.app.JFireApplication">
         </run>
      </application>
   </extension>
   <extension
         point="org.eclipse.core.runtime.products"
         id="product">
      <product
            application="org.nightlabs.jfire.base.ui.app"
            name="%app.name">
         <property
               name="appName"
               value="%app.name"/>
         <property
               name="windowImages"
               value="icons/JFire-Logo.16x16.png"/>
         <property
               name="aboutText"
               value="%aboutText"/>
         <property
               name="aboutImage"
               value="icons/JFire-Logo.250x84.jpg"/>
		 <property 
			   name="preferenceCustomization" 
			   value="plugin_customization.ini"/>
		<property 
			   name="startupForegroundColor" 
			   value="000000"/>   			   
		<property 
			   name="startupMessageRect" 
			   value="7,238,400,20"/>   
		<property 
			   name="startupProgressRect" 
			   value="0,258,400,15"/>   
      </product>
   </extension>

   <!-- Perspectives and Views
   -->
   <extension
         point="org.eclipse.ui.perspectives">

      <perspective
            icon="icons/JFire-Icon.16x16.png"
            class="org.nightlabs.jfire.base.ui.JFireWelcomePerspective"
            fixed="false"
            name="%org.nightlabs.jfire.base.ui.JFireWelcomePerspective.name"
            id="org.nightlabs.jfire.base.ui.JFireWelcomePerspective"/>
   </extension>
   
   <!-- Actions 
   -->
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            label="Login Action Set"
            visible="true"
            id="org.nightlabs.jfire.base.ui.login.actions">
         <menu
               label="%loginMenu.label"
               id="loginMenu">
            <separator
                  name="loginGroup">
            </separator>
         </menu>
         <action
               class="org.nightlabs.jfire.base.ui.login.action.LoginAction"
               icon="icons/login/action/LoginAction-Login.24x24.png"
               id="org.nightlabs.jfire.base.ui.login.action.LoginAction#toolbar"
               label="%org.nightlabs.jfire.base.ui.login.action.LoginAction.label"
               toolbarPath="loginGroup"
               tooltip="%org.nightlabs.jfire.base.ui.login.action.LoginAction.toolTip">
         </action>
         <action
               class="org.nightlabs.jfire.base.ui.password.ChangePasswordAction"
               icon="icons/password/ChangePasswortAction.16x16.gif"
               id="org.nightlabs.jfire.base.ui.password.ChangePasswortAction"
               label="Change password"
               menubarPath="loginMenu/loginGroup"
               tooltip="Change the password of the user currently logged in">
         </action>
         <action
               class="org.nightlabs.jfire.base.ui.login.action.LoginAction"
               icon="icons/login/action/LoginAction-Login.16x16.png"
               id="org.nightlabs.jfire.base.ui.login.action.LoginAction#menu"
               label="%org.nightlabs.jfire.base.ui.login.action.LoginAction.label"
               menubarPath="loginMenu/loginGroup"
               tooltip="%org.nightlabs.jfire.base.ui.login.action.LoginAction.toolTip">
         </action>
      </actionSet>
   </extension>   

   <!-- ExceptionHandler
   -->


	<!-- Person preferences pages -->
	<extension
    	point="org.eclipse.ui.preferencePages">
    	<page
		name="%org.nightlabs.jfire.base.ui.person.preferences.PersonManagementPreferencePage.name"
		class="org.nightlabs.jfire.base.ui.person.preferences.PersonManagementPreferencePage"
		id="org.nightlabs.jfire.base.ui.person.preferences.PersonManagementPreferencePage">
      </page>
      <page
            name="%org.nightlabs.jfire.base.ui.person.preferences.PersonStructOrderPreferencePage.name"
            category="org.nightlabs.jfire.person.preferences.PersonManagementPreferencePage"
            class="org.nightlabs.jfire.base.ui.person.preferences.PersonStructOrderPreferencePage"
            id="org.nightlabs.jfire.base.ui.person.preferences.PersonStructOrderPreferencePage">
      </page>  
	</extension>

	
 	<!-- PersonDataFieldEditor extensions bock-based -->
	
 	<!-- PersonDataFieldEditor extensions field-based-disguised -->
 
 	<!-- Specialized PersonDataBlockEditors extensions -->
<!-- I think, that fleque deleted these, is fine :-)
 	<extension
       id="org.nightlabs.jfire.person.edit.blockbased.special.PersonalDataBlockEditor"
       point="org.nightlabs.jfire.base.ui.person_edit_specializedDataBlockEditor">
    <specializedDataBlockEditor
          class="org.nightlabs.jfire.base.ui.person.edit.blockbased.special.PersonalDataBlockEditor$Factory"
	/>
    <specializedDataBlockEditor class="org.nightlabs.jfire.base.ui.person.edit.blockbased.special.CommentDataBlockEditor$Factory"/>
	</extension>
-->
	
  <extension
        point="org.nightlabs.jfire.base.ui.loginstatelistener">
     <loginStateListener class="org.nightlabs.jfire.base.ui.language.LanguageWatcher"/>
  </extension>
<!--
  This is registered now by the class Login programmatically, because this Interceptor is on the server and the SelectionManager
  might be used already while still being offline. This would cause a ClassNotFoundException.
  <extension
        point="org.nightlabs.base.ui.notificationinterceptor">
     <notificationInterceptor
           class="org.nightlabs.jfire.base.ui.jdo.JDOObjectID2PCClassNotificationInterceptor"
           name="JDO ObjectID to PersistenceCapable Interceptor"/>
  </extension>
-->
	
  <extension
        point="org.nightlabs.jfire.base.ui.configsetupvisualiser">
     <visualiser
           class="org.nightlabs.jfire.base.ui.config.UserCSVisualiser"
           configSetupType="org.nightlabs.jfire.config.UserConfigSetup"/>
     <visualiser
           class="org.nightlabs.jfire.base.ui.config.WorkstationCSVisualiser"
           configSetupType="org.nightlabs.jfire.config.WorkstationConfigSetup"/>
  </extension>
	
  <extension
        point="org.nightlabs.base.ui.cache">
     <cacheFactory class="org.nightlabs.jfire.base.ui.jdo.cache.CacheFactory"/>
  </extension>

	

  <!-- Prop extensions -->
   <extension
         point="org.nightlabs.jfire.base.ui.propStructField">
      <propStructField
            class="org.nightlabs.jfire.prop.structfield.TextStructField"
            description="Simple field for textual input"
            editorFactoryClass="org.nightlabs.jfire.base.ui.prop.structedit.TextStructFieldEditor$TextStructFieldEditorFactory"
            factoryClass="org.nightlabs.jfire.base.ui.prop.structedit.TextStructFieldFactory"
            name="Text field"/>
      <propStructField
            class="org.nightlabs.jfire.prop.structfield.SelectionStructField"
            description="Field that lets the user select from a predefined domain of values"
            editorFactoryClass="org.nightlabs.jfire.base.ui.prop.structedit.SelectionStructFieldEditor$SelectionStructFieldEditorFactory"
            factoryClass="org.nightlabs.jfire.base.ui.prop.structedit.SelectionStructFieldFactory"
            name="Selection field"/>
      <propStructField
            class="org.nightlabs.jfire.prop.structfield.RegexStructField"
            description="Field that allows to restrict the given input by a regular expression."
            editorFactoryClass="org.nightlabs.jfire.base.ui.prop.structedit.RegexStructFieldEditor$RegexStructFieldEditorFactory"
            factoryClass="org.nightlabs.jfire.base.ui.prop.structedit.RegexStructFieldFactory"
            name="Regex field"/>
      <propStructField
            class="org.nightlabs.jfire.prop.structfield.NumberStructField"
            description="Simple field for numerical input"
            editorFactoryClass="org.nightlabs.jfire.base.ui.prop.structedit.NumberStructFieldEditor$NumberStructFieldEditorFactory"
            factoryClass="org.nightlabs.jfire.base.ui.prop.structedit.NumberStructFieldFactory"
            name="Number field"/>
      <propStructField
            class="org.nightlabs.jfire.prop.structfield.ImageStructField"
            description="Field for adding image data"
            editorFactoryClass="org.nightlabs.jfire.base.ui.prop.structedit.ImageStructFieldEditor$ImageStructFieldEditorFactory"
            factoryClass="org.nightlabs.jfire.base.ui.prop.structedit.ImageStructFieldFactory"
            name="Image field"/>
       <propStructField
            class="org.nightlabs.jfire.prop.structfield.DateStructField"
            description="Field for inputting absolute times/dates."
            editorFactoryClass="org.nightlabs.jfire.base.ui.prop.structedit.DateStructFieldEditor$DateStructFieldEditorFactory"
            factoryClass="org.nightlabs.jfire.base.ui.prop.structedit.DateStructFieldFactory"
            name="Date field"/>
       <propStructField
            class="org.nightlabs.jfire.prop.structfield.PhoneNumberStructField"
            description="Field for inputting phone numbers."
            editorFactoryClass="org.nightlabs.jfire.base.ui.prop.structedit.DefaultStructFieldEditor$DefaultStructFieldEditorFactory"
            factoryClass="org.nightlabs.jfire.base.ui.prop.structedit.PhoneNumberStructFieldFactory"
            name="Phone number field"/>
      <propStructField
            class="org.nightlabs.jfire.prop.structfield.I18nTextStructField"
            description="Field for multilingual textual input"
            editorFactoryClass="org.nightlabs.jfire.base.ui.prop.structedit.I18nTextStructFieldEditor$I18nTextStructFieldEditorFactory"
            factoryClass="org.nightlabs.jfire.base.ui.prop.structedit.I18nTextStructFieldFactory"
            name="I18n Text field"/>
            
   </extension>
 	<extension
       id="org.nightlabs.jfire.person.edit.blockbased.special.PersonalDataBlockEditor"
       point="org.nightlabs.jfire.base.ui.specialisedDataBlockEditor">
    	<specialisedDataBlockEditor
          class="org.nightlabs.jfire.base.ui.person.edit.blockbased.special.PersonalDataBlockEditor$Factory"
		/>
    	<specialisedDataBlockEditor
          class="org.nightlabs.jfire.base.ui.person.edit.blockbased.special.CommentDataBlockEditor$Factory"
		/>
	</extension>
   <extension
         point="org.nightlabs.jfire.base.ui.propDataFieldEditorFactory">
      <propDataFieldEditorFactory
            class="org.nightlabs.jfire.base.ui.prop.edit.blockbased.TextDataFieldEditor$Factory"/>
      <propDataFieldEditorFactory
            class="org.nightlabs.jfire.base.ui.prop.edit.blockbased.SelectionDataFieldEditor$Factory">
      </propDataFieldEditorFactory>
      <propDataFieldEditorFactory
            class="org.nightlabs.jfire.base.ui.prop.edit.blockbased.ImageDataFieldEditor$Factory">
      </propDataFieldEditorFactory>
      <propDataFieldEditorFactory
            class="org.nightlabs.jfire.base.ui.prop.edit.blockbased.DateDataFieldEditor$Factory">
      </propDataFieldEditorFactory>
      <propDataFieldEditorFactory
            class="org.nightlabs.jfire.base.ui.prop.edit.blockbased.NumberDataFieldEditor$Factory">
      </propDataFieldEditorFactory>
      <propDataFieldEditorFactory
            class="org.nightlabs.jfire.base.ui.prop.edit.blockbased.RegexDataFieldEditor$Factory">
      </propDataFieldEditorFactory>
      <propDataFieldEditorFactory
            class="org.nightlabs.jfire.base.ui.prop.edit.blockbased.PhoneNumberDataFieldEditor$PhoneNumberDataFieldEditorFactory">
      </propDataFieldEditorFactory>
      <propDataFieldEditorFactory
            class="org.nightlabs.jfire.base.ui.prop.edit.blockbased.I18nTextDataFieldEditor$Factory"/>
   </extension>
   <extension
         point="org.nightlabs.base.ui.login">
      <login class="org.nightlabs.jfire.base.ui.login.LoginDelegate"/>
   </extension>		
   
   <extension
         point="org.nightlabs.base.ui.removeExtension">
      <removeExtension
            attributeName="id"
            attributePattern="org.eclipse.ui.edit.text.actionSet.navigation"
            elementPath="actionSet"
            extensionPointID="org.eclipse.ui.actionSets"/>
      <removeExtension
            attributeName="id"
            attributePattern="org.eclipse.ui.edit.text.actionSet.convertLineDelimitersTo"
            elementPath="actionSet"
            extensionPointID="org.eclipse.ui.actionSets"/>
      <removeExtension
            attributeName="id"
            attributePattern="org.eclipse.ui.WorkingSetActionSet"
            elementPath="actionSet"
            extensionPointID="org.eclipse.ui.actionSets"/>
      <removeExtension
            attributeName="id"
            attributePattern=".*eclipse.*resource.*"
            elementPath="perspective"
            extensionPointID="org.eclipse.ui.perspectives"/>
   </extension>
   <extension
         point="org.nightlabs.jfire.base.j2ee.remoteResourceFilter">
      <exclusion pattern="org.nightlabs.jfire.base.ui.exclusion1"/>
   </extension>
   <extension
         point="org.nightlabs.base.ui.exceptionhandler">
      <exceptionHandler
            class="org.nightlabs.jfire.base.ui.exceptionhandler.InsufficientPermissionHandler"
            name="Insufficient permissions: Handler showing the user which role groups are required."
            priority="150"
            targetType="java.lang.SecurityException">
      </exceptionHandler>
      <exceptionHandler
            class="org.nightlabs.jfire.base.ui.exceptionhandler.ConnectExceptionHandler"
            name="Connection refused. Handler showing a user friendly message when the connection is refused"
            targetType="java.net.ConnectException">
      </exceptionHandler>
   </extension>
   <extension
         point="org.nightlabs.jfire.base.ui.loginstatelistener">
      <loginStateListener
            class="org.nightlabs.jfire.base.ui.login.part.LoginStateListenerForCloseOnLogoutEditorParts">
      </loginStateListener>
      <loginStateListener
            class="org.nightlabs.jfire.base.ui.exceptionhandler.LoginStateListenerForScreenShotCfg">
      </loginStateListener>
      <loginStateListener
            class="org.nightlabs.jfire.base.ui.security.SecurityReflectorClientLoginStateListener">
      </loginStateListener>
   </extension>
</plugin>
